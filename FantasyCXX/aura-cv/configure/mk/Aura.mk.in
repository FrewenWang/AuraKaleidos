# ===================================================================================
#  The Aura makefile configuration file
#
#             ** File generated automatically, do not modify **
#
#  Usage from an external project:
#    At the beginning of your Android.mk, add these lines:
#
#    include $(Aura_INSTALL_PATH)/mk/Aura.mk
#
#    Then you can use the Aura library in your project.
#
#    LOCAL_STATIC_LIBRARIES := @AURA_LIB_NAME@      # for static library
#
#    LOCAL_STATIC_LIBRARIES := aura_opencl_library  # for shared library if Aura_ENABLE_OPENCL is ON
#    LOCAL_SHARED_LIBRARIES := @AURA_LIB_NAME@      # for shared library
#
#    This file will define the following variables:
#      - Aura_LIB                      : The Aura library name
#
#    Advanced variables:
#      - Aura_ANDROID_ABI              : Aura android abi, reserve
#      - Aura_ANDROID_PLATFORM         : Aura android platrorm, reserve
#      - Aura_ENABLE_ARM82             : Aura enable ARMv8.2 support
#      - Aura_ENABLE_OPENCL            : Aura enable OpenCL support
#      - Aura_SHARED_LIBRARY           : Use Aura as shared library
#      - Aura_INSTALL_PATH             : Aura location
#
# ===================================================================================

Aura_INSTALL_PATH := $(call my-dir)/..

Aura_ANDROID_ABI :=  @ANDROID_ABI@
Aura_ANDROID_PLATFORM := @ANDROID_PLATFORM@
Aura_ENABLE_ARM82 := @AURA_ENABLE_ARM82@
Aura_ENABLE_OPENCL := @AURA_ENABLE_OPENCL@
Aura_SHARED_LIBRARY := @AURA_SHARED_LIBRARY@
Aura_LIB := @AURA_LIB_NAME@

include $(CLEAR_VARS)
LOCAL_MODULE := @AURA_LIB_NAME@
LOCAL_SRC_FILES := $(wildcard $(Aura_INSTALL_PATH)/lib/lib@AURA_LIB_NAME@.*)
LOCAL_EXPORT_C_INCLUDES := $(Aura_INSTALL_PATH)/include
LOCAL_EXPORT_CPPFLAGS := -frtti
LOCAL_EXPORT_LDLIBS := -llog

ifeq ($(Aura_ENABLE_OPENCL), ON)
    LOCAL_EXPORT_C_INCLUDES += $(Aura_INSTALL_PATH)/include/3rdparty/opencl
    LOCAL_EXPORT_CPPFLAGS += -fexceptions
endif
ifeq ($(Aura_SHARED_LIBRARY), ON)
    include $(PREBUILT_SHARED_LIBRARY)
else
    include $(PREBUILT_STATIC_LIBRARY)
endif

ifeq ($(Aura_ENABLE_OPENCL), ON)
    ifeq ($(Aura_SHARED_LIBRARY), ON)
        include $(CLEAR_VARS)
        LOCAL_MODULE := aura_opencl_library
        LOCAL_SRC_FILES := $(Aura_INSTALL_PATH)/lib/libaura_opencl_library.a
        LOCAL_EXPORT_CPPFLAGS := -fexceptions
        LOCAL_EXPORT_C_INCLUDES := $(Aura_INSTALL_PATH)/include/3rdparty/opencl
        include $(PREBUILT_STATIC_LIBRARY)
    endif
endif