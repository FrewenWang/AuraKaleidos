if (${PRODUCT} MATCHES "mainline")
    collect_source_files(lib_srcs GLOB detector)
elseif (${PRODUCT} MATCHES "jidu_mobile")
    list(APPEND lib_srcs ${SRC_ROOT}/detector/ImageBrightnessDetector.cpp)
    list(APPEND lib_srcs ${SRC_ROOT}/detector/AbsFaceDetector.cpp)
    list(APPEND lib_srcs ${SRC_ROOT}/detector/FaceRectDetector.cpp)
    list(APPEND lib_srcs ${SRC_ROOT}/detector/FaceLandmarkDetector.cpp)
    list(APPEND lib_srcs ${SRC_ROOT}/detector/FaceQualityDetector.cpp)
    list(APPEND lib_srcs ${SRC_ROOT}/detector/FaceFeatureDetector.cpp)
else ()
    collect_source_files(detector_srcs GLOB detector)
    foreach (src ${detector_srcs})
        get_filename_component(src_name ${src} NAME)
        set(customize_src ${SRC_ROOT}/detector/customize/${PRODUCT}/${src_name})
        if (EXISTS ${customize_src})
            list(APPEND lib_srcs ${customize_src})
            message(STATUS "[${PRODUCT}]: using customized detector: ${customize_src}")
        else ()
            list(APPEND lib_srcs ${src})
        endif ()
    endforeach ()
endif ()

if (BUILD_EXPERIMENTAL)
    collect_source_files(lib_srcs GLOB detector/experimental)
endif ()